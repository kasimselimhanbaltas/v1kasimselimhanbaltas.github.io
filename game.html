<!DOCTYPE html>

<head>
    <title>Selimhan Baltaş</title>
    <meta name="google-site-verification" content="Lzg8xUSxO_Tvqnr26CCyv9FV29tXwhBxyukXVU_Nmv8" />
    <script src="/assets/js/script.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
</head>


<body onload="startGame()">
    <audio autoplay id="themeMusic">
        <source src="game/Rage of Sparta.mp3" type="audio/mpeg">
    </audio>

    </audio>
    <audio id="myAudio">
        <source src="" type="audio/mpeg">
      </audio>
    <section class="hero" id="home">
        <button id="goBack" class="position-absolute" style="top: 0; left: 0; background-color: transparent; border: none;">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-arrow-left-circle" viewBox="0 0 16 16">
                <path fill-rule="evenodd" d="M1 8a7 7 0 1 0 14 0A7 7 0 0 0 1 8zm15 0A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-4.5-.5a.5.5 0 0 1 0 1H5.707l2.147 2.146a.5.5 0 0 1-.708.708l-3-3a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L5.707 7.5H11.5z"/>
            </svg>
        </button>
        <div style="width: 10vw;" class="container inline-block position-absolute">
            <span>
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-controller" viewBox="0 0 16 16">
                    <path d="M11.5 6.027a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0zm-1.5 1.5a.5.5 0 1 0 0-1 .5.5 0 0 0 0 1zm2.5-.5a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0zm-1.5 1.5a.5.5 0 1 0 0-1 .5.5 0 0 0 0 1zm-6.5-3h1v1h1v1h-1v1h-1v-1h-1v-1h1v-1z"/>
                    <path d="M3.051 3.26a.5.5 0 0 1 .354-.613l1.932-.518a.5.5 0 0 1 .62.39c.655-.079 1.35-.117 2.043-.117.72 0 1.443.041 2.12.126a.5.5 0 0 1 .622-.399l1.932.518a.5.5 0 0 1 .306.729c.14.09.266.19.373.297.408.408.78 1.05 1.095 1.772.32.733.599 1.591.805 2.466.206.875.34 1.78.364 2.606.024.816-.059 1.602-.328 2.21a1.42 1.42 0 0 1-1.445.83c-.636-.067-1.115-.394-1.513-.773-.245-.232-.496-.526-.739-.808-.126-.148-.25-.292-.368-.423-.728-.804-1.597-1.527-3.224-1.527-1.627 0-2.496.723-3.224 1.527-.119.131-.242.275-.368.423-.243.282-.494.575-.739.808-.398.38-.877.706-1.513.773a1.42 1.42 0 0 1-1.445-.83c-.27-.608-.352-1.395-.329-2.21.024-.826.16-1.73.365-2.606.206-.875.486-1.733.805-2.466.315-.722.687-1.364 1.094-1.772a2.34 2.34 0 0 1 .433-.335.504.504 0 0 1-.028-.079zm2.036.412c-.877.185-1.469.443-1.733.708-.276.276-.587.783-.885 1.465a13.748 13.748 0 0 0-.748 2.295 12.351 12.351 0 0 0-.339 2.406c-.022.755.062 1.368.243 1.776a.42.42 0 0 0 .426.24c.327-.034.61-.199.929-.502.212-.202.4-.423.615-.674.133-.156.276-.323.44-.504C4.861 9.969 5.978 9.027 8 9.027s3.139.942 3.965 1.855c.164.181.307.348.44.504.214.251.403.472.615.674.318.303.601.468.929.503a.42.42 0 0 0 .426-.241c.18-.408.265-1.02.243-1.776a12.354 12.354 0 0 0-.339-2.406 13.753 13.753 0 0 0-.748-2.295c-.298-.682-.61-1.19-.885-1.465-.264-.265-.856-.523-1.733-.708-.85-.179-1.877-.27-2.913-.27-1.036 0-2.063.091-2.913.27z"/>
                </svg>
                Controls
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-controller" viewBox="0 0 16 16">
                    <path d="M11.5 6.027a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0zm-1.5 1.5a.5.5 0 1 0 0-1 .5.5 0 0 0 0 1zm2.5-.5a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0zm-1.5 1.5a.5.5 0 1 0 0-1 .5.5 0 0 0 0 1zm-6.5-3h1v1h1v1h-1v1h-1v-1h-1v-1h1v-1z"/>
                    <path d="M3.051 3.26a.5.5 0 0 1 .354-.613l1.932-.518a.5.5 0 0 1 .62.39c.655-.079 1.35-.117 2.043-.117.72 0 1.443.041 2.12.126a.5.5 0 0 1 .622-.399l1.932.518a.5.5 0 0 1 .306.729c.14.09.266.19.373.297.408.408.78 1.05 1.095 1.772.32.733.599 1.591.805 2.466.206.875.34 1.78.364 2.606.024.816-.059 1.602-.328 2.21a1.42 1.42 0 0 1-1.445.83c-.636-.067-1.115-.394-1.513-.773-.245-.232-.496-.526-.739-.808-.126-.148-.25-.292-.368-.423-.728-.804-1.597-1.527-3.224-1.527-1.627 0-2.496.723-3.224 1.527-.119.131-.242.275-.368.423-.243.282-.494.575-.739.808-.398.38-.877.706-1.513.773a1.42 1.42 0 0 1-1.445-.83c-.27-.608-.352-1.395-.329-2.21.024-.826.16-1.73.365-2.606.206-.875.486-1.733.805-2.466.315-.722.687-1.364 1.094-1.772a2.34 2.34 0 0 1 .433-.335.504.504 0 0 1-.028-.079zm2.036.412c-.877.185-1.469.443-1.733.708-.276.276-.587.783-.885 1.465a13.748 13.748 0 0 0-.748 2.295 12.351 12.351 0 0 0-.339 2.406c-.022.755.062 1.368.243 1.776a.42.42 0 0 0 .426.24c.327-.034.61-.199.929-.502.212-.202.4-.423.615-.674.133-.156.276-.323.44-.504C4.861 9.969 5.978 9.027 8 9.027s3.139.942 3.965 1.855c.164.181.307.348.44.504.214.251.403.472.615.674.318.303.601.468.929.503a.42.42 0 0 0 .426-.241c.18-.408.265-1.02.243-1.776a12.354 12.354 0 0 0-.339-2.406 13.753 13.753 0 0 0-.748-2.295c-.298-.682-.61-1.19-.885-1.465-.264-.265-.856-.523-1.733-.708-.85-.179-1.877-.27-2.913-.27-1.036 0-2.063.091-2.913.27z"/>
                </svg>
            </span>
            <p style="font-size: 10px;">
                Movement: ↑←↓→ or WASD <br>
                Axe: Left click<br>
                Blades: Right click
            </p>
            
        </div>
          
        <div id="gamespace" class="container-fluid gamespace p-5 position-relative">
            <img id="mybg" src="game/aqZdSwWyy9JcQ66BxHDKrky6 (2).png" alt="">
            <button id="muteButton" class="btn position-absolute">
                <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="currentColor" class="bi bi-volume-mute-fill" viewBox="0 0 16 16">
                    <path d="M6.717 3.55A.5.5 0 0 1 7 4v8a.5.5 0 0 1-.812.39L3.825 10.5H1.5A.5.5 0 0 1 1 10V6a.5.5 0 0 1 .5-.5h2.325l2.363-1.89a.5.5 0 0 1 .529-.06zm7.137 2.096a.5.5 0 0 1 0 .708L12.207 8l1.647 1.646a.5.5 0 0 1-.708.708L11.5 8.707l-1.646 1.647a.5.5 0 0 1-.708-.708L10.793 8 9.146 6.354a.5.5 0 1 1 .708-.708L11.5 7.293l1.646-1.647a.5.5 0 0 1 .708 0z"/>
                </svg>
            </button>
            <button id="unMuteButton" class="btn position-absolute">
                <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="currentColor" class="bi bi-volume-up-fill" viewBox="0 0 16 16">
                    <path d="M11.536 14.01A8.473 8.473 0 0 0 14.026 8a8.473 8.473 0 0 0-2.49-6.01l-.708.707A7.476 7.476 0 0 1 13.025 8c0 2.071-.84 3.946-2.197 5.303l.708.707z"/>
                    <path d="M10.121 12.596A6.48 6.48 0 0 0 12.025 8a6.48 6.48 0 0 0-1.904-4.596l-.707.707A5.483 5.483 0 0 1 11.025 8a5.483 5.483 0 0 1-1.61 3.89l.706.706z"/>
                    <path d="M8.707 11.182A4.486 4.486 0 0 0 10.025 8a4.486 4.486 0 0 0-1.318-3.182L8 5.525A3.489 3.489 0 0 1 9.025 8 3.49 3.49 0 0 1 8 10.475l.707.707zM6.717 3.55A.5.5 0 0 1 7 4v8a.5.5 0 0 1-.812.39L3.825 10.5H1.5A.5.5 0 0 1 1 10V6a.5.5 0 0 1 .5-.5h2.325l2.363-1.89a.5.5 0 0 1 .529-.06z"/>
                  </svg>
            </button>
            <div defer id="character" class="character position-absolute inline-block">
                <img id="kratos" src="game/kratosR.png" alt="">
                <img id="axe" src="game/axeR.png" alt="">
                <img id="boc" src="game/bocR.png" alt="">
                <img id="boc" class="sec" src="game/bocR.png" alt="">
            </div>
            <img id="thor" src="game/Thor_Ragnarok.png" alt="">

            <div class="inline-block" id="score">x/x
                
            </div>
            <div class="progress" role="progressbar" aria-label="Basic example" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100" style="width: 20vw; margin: auto">
                <div class="progress-bar" style="width: 100%"></div>
            </div>
            <button id="playAgain" class="btn btn-primary ps-5 pe-5 position-absolute">
                <img src="game/b21f9f98829dea9a48fd8aaddc1f159d.png" alt="">    
                <p>Play Again</p>
            </button>
        </div>
    </section>

    
</body>
</html>

<script>
    startGame = () => {
        let killCount = 0;
        const character = document.getElementById('character');
        const gamespace = document.getElementById('gamespace');
        const kratos = document.getElementById('kratos');
        const axe = document.getElementById('axe');
        const boc = document.getElementById('boc');
        const thor = document.getElementById('thor');
        const score = document.getElementById('score');
        score.textContent = killCount + " / 20" 
        const playAgainBtn = document.getElementById('playAgain');
        const myAudio = document.getElementById('myAudio');
        const themeMusic = document.getElementById('themeMusic');
        const muteButton = document.getElementById('muteButton');
        const unMuteButton = document.getElementById('unMuteButton');
        const goBack = document.getElementById('goBack');

        goBack.addEventListener('click', () => {
            window.history.back();
        })

        themeMusic.volume = 0.3;
        muteButton.addEventListener('click', () => {
            muteButton.style.display = "none";
            themeMusic.volume = 0;
            unMuteButton.style.display = "inline-block";
        });

        unMuteButton.addEventListener('click', () => {
            themeMusic.volume = 0.3;
            muteButton.style.display = "inline-block";
            unMuteButton.style.display = "none";
        });

        playAgainBtn.addEventListener('click', () => {
            playAgain();
        })

        gamespace.addEventListener('contextmenu', event => event.preventDefault());

        gamespace.addEventListener('click', () => {
            checkDistance();
            axe.style.visibility = "visible";
            console.log("I WILL MAKE YOU SUFFER")
            if (axe.src === "https://kasimselimhanbaltas.github.io/game/axeR.png"){
                axe.classList.add('animateR');
                setTimeout(() => {
                    axe.classList.remove('animateR');
                    axe.style.visibility = "hidden";
                }, 1000);
            }
            else {
                axe.classList.add('animateL');
                setTimeout(() => {
                    axe.classList.remove('animateL');
                    axe.style.visibility = "hidden";
            }, 1000);
            }
        });

        gamespace.addEventListener('contextmenu', () => {
            checkDistance2();
            boc.style.visibility = "visible";
            console.log("I WILL MAKE YOU SUFFER")
            if (boc.src === "https://kasimselimhanbaltas.github.io/game/bocR.png"){
                boc.classList.add('animateR');
                setTimeout(() => {
                    boc.classList.remove('animateR');
                    boc.style.visibility = "hidden";
                }, 1000);
            }
            else {
                boc.classList.add('animateL');
                setTimeout(() => {
                    boc.classList.remove('animateL');
                    boc.style.visibility = "hidden";
            }, 1000);
            }
            
        });
                
                

        const keys = {};

        const progressBar = document.querySelector('.progress-bar');


        const intervalId = setInterval(() => {
            const width = 100 - (killCount * 5);
            progressBar.style.width = `${width}%`;
            progressBar.setAttribute('aria-valuenow', killCount);
        },50);


        const endGame = () => {
            character.style.transition = "all 1s";
            progressBar.style.width = "0%";
            myAudio.src = "game/I'm The God of War Kratos Sound Effect.mp3"
            myAudio.play();
            playAgainBtn.style.display = "inline-block";
            score.textContent = "20 / 20" 
            thor.style.display = "none";
            character.style.width = "15vw"
            axe.style.width = "4vw"
            boc.style.width = "6vw"
        }
        const playAgain = () =>{
            character.style.transition = "all 0s";
            killCount = 0;
            thor.style.display = "inline-block";
            character.style.width = "6vw"
            axe.style.width = "2vw"
            boc.style.width = "3vw"
            score.textContent = killCount + " / 20" 
            playAgainBtn.style.display = "none";
        }

        function moveThor() {
            const maxWidth = gamespace.offsetWidth - thor.offsetWidth;
            const maxHeight = gamespace.offsetHeight - thor.offsetHeight;
            const newLeft = Math.floor(Math.random() * maxWidth);
            const newTop = Math.floor(Math.random() * maxHeight);
            thor.style.left = `${newLeft}px`;
            thor.style.top = `${newTop}px`;
        }
        function checkDistance() {
            // const characterRect = character.getBoundingClientRect();
            // const thorRect = thor.getBoundingClientRect();
            // const distance = Math.sqrt(
            //     (characterRect.x - thorRect.x) ** 2 + (characterRect.y - thorRect.y) ** 2
            // );
            const characterRect = character.getBoundingClientRect();
            const thorRect = thor.getBoundingClientRect();
            const distance = Math.abs(characterRect.x - thorRect.x);
            const heightDiff = Math.abs(characterRect.y - thorRect.y);
            if (distance <= 380 && heightDiff < 100) {
                if(kratos.src === "https://kasimselimhanbaltas.github.io/game/kratosR.png"){
                    if(characterRect.x - thorRect.x <= 0){
                        killCount += 1;
                        if(killCount === 20) { //game finished
                            endGame();
                            killCount += 1;
                        }
                        else{
                            setTimeout(() =>{
                                moveThor();
                                score.textContent = killCount + " / 20" 
                            }, 350)
                        }
                    }
                }
                else if(kratos.src === "https://kasimselimhanbaltas.github.io/game/kratosL.png"){
                    if(characterRect.x - thorRect.x >= 0){
                        killCount += 1;
                        if(killCount === 20) { //game finished
                            endGame();
                        }
                        else{
                            setTimeout(() =>{
                                moveThor();
                                score.textContent = killCount + " / 20" 
                            }, 350)
                        }
                    }
                }
            }
        }   
        function checkDistance2() {
            // const characterRect = character.getBoundingClientRect();
            // const thorRect = thor.getBoundingClientRect();
            // const distance = Math.sqrt(
            //     (characterRect.x - thorRect.x) ** 2 + (characterRect.y - thorRect.y) ** 2
            // );
            const characterRect = character.getBoundingClientRect();
            const thorRect = thor.getBoundingClientRect();
            const distance = Math.abs(characterRect.x - thorRect.x);
            const heightDiff = Math.abs(characterRect.y - thorRect.y);
            if (distance <= 260 && heightDiff < 100) {
                if(kratos.src === "https://kasimselimhanbaltas.github.io/game/kratosR.png"){
                    if(characterRect.x - thorRect.x <= 0){
                        killCount += 1;
                        if(killCount === 20) { //game finished
                            endGame();
                        }
                        else{
                            setTimeout(() =>{
                                moveThor();
                                score.textContent = killCount + " / 20" 
                            }, 100)
                        }
                        
                    }
                }
                else if(kratos.src === "https://kasimselimhanbaltas.github.io/game/kratosL.png"){
                    if(characterRect.x - thorRect.x >= 0){
                        killCount += 1;
                        if(killCount === 20) { //game finished
                            endGame();
                        }
                        else{
                            setTimeout(() =>{
                                moveThor();
                                score.textContent = killCount + " / 20" 
                            }, 100)
                        }
                    }
                }
            }
        }   

        document.addEventListener('keydown', (event) => {
        keys[event.key] = true;
        });

        document.addEventListener('keyup', (event) => {
        keys[event.key] = false;
        });

        setInterval(() => {
        const speed = 3;
        //console.log(character.offsetLeft, character.offsetTop)
        if (keys['w'] || keys['ArrowUp']) {
            character.style.top = `${Math.max(0, character.offsetTop - speed)}px`;
        }
        if (keys['s'] || keys['ArrowDown']) {
            character.style.top = `${Math.min(gamespace.offsetHeight - character.offsetHeight + 50, character.offsetTop + speed)}px`;
        }
        if (keys['a'] || keys['ArrowLeft']) {
            axe.src = "game/axeL.png"
            boc.src = "game/bocL.png"
            kratos.src = "game/kratosL.png"
            character.style.left = `${Math.max(0, character.offsetLeft - speed)}px`;
        }
        if (keys['d'] || keys['ArrowRight']) {
            axe.src = "game/axeR.png"
            boc.src = "game/bocR.png"
            kratos.src = "game/kratosR.png"
            character.style.left = `${Math.min(gamespace.offsetWidth - character.offsetWidth, character.offsetLeft + speed)}px`;
        }
        }, 10);
    }


</script>

<style scoped>
body{
    background: linear-gradient(135deg, #add8e6, #ffffff, #ffe4e1);
    height: 95vh;
}
.gamespace{
    margin-top: 5vh;
    height: 85vh;
    width: 80vw;
}
.character{
    width: 6vw;
    height: 20vh;
    top: 40%;
    left: 20%;
}
#thor{
    top: 40%;
    left: 80%;
}

.character img{
    width: 100%;
}
#boc{
    width: 3vw;
    transform: translateX(-100%);
    visibility: hidden;
    position: absolute;
    transition: all .1s linear;
}
.sec{
    top: 100px;
}
#boc.animateL {
  visibility: visible;
  transform: translateX(-600%);
}
#boc.animateR {
  visibility: visible;
  transform: translateX(300%) ;
}
#axe{
    width: 2vw;
    transform: translateX(-100%);
    visibility: hidden;
    position: absolute;
    transition: all .5s cubic-bezier(.7,1.17,1,.94);
}
#axe.animateL {
  visibility: visible;
  transform: translateX(-1600%) rotate(-720deg);
}
#axe.animateR {
  visibility: visible;
  transform: translateX(1200%) rotate(720deg);
}

#thor{
    position: absolute;
    height: 15vh;
}
#score{
    position: absolute;
    bottom: 5%;
    right: 5%;
}
#mybg{
    width: 100%;
    height: 100%;
    position: absolute;
    opacity: 0.5;
    transform: translateX(-3.5%) translateY(-8%);
}
.progress {
  height: 20px;
  background-color: #ddd;
}

.progress-bar {
  height: 100%;
  background-color: darkred;
  width: 100%;
}
#playAgain{
    bottom: 0;
    left: 40%;
    color: black;
    background-color: transparent;
    border: none;
    display: none;
}
#playAgain img{
    width: 5vw;
}
#muteButton{
    top: 0;
    right: 0;
}
#unMuteButton{
    top: 0;
    right: 0;
    display: none;
}
#controls {
    position: absolute;
    top: 0;
    left: 0;
}


</style>